"use strict";class Util{constructor(){this.jsSrcHash={"https://platform.twitter.com/widgets.js":!1,"/assets/listCarousel.js":!1,"/assets/stars.js":!1,"/assets/ballPit.js":!1}}require(e){return new Promise((t,o)=>{if(this.jsSrcHash[e])t();else{let a=document.createElement("script");a.src=e,a.async=1;let r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r),a.onload=(()=>{this.jsSrcHash[e]=!0,t()}),a.onerror=(()=>{o()})}})}addMeta(e,t){let o=document.createElement("meta");o.setAttribute("name",e),o.setAttribute("content",t),document.head.appendChild(o)}getMainWidth(){const e=document.querySelector("main"),t=window.getComputedStyle(e,null),o=parseFloat(t.getPropertyValue("padding-left"));return e.getBoundingClientRect().width-o}}window.util=new Util;class AboutController{index(){router.load("/about.html"),document.title="About",document.body.classList.add("about")}}window.aboutController=new AboutController;class GamesController{index(){Promise.all([router.load("/games/index.html"),util.require("/assets/listCarousel.js")]).then(()=>new ListCarousel(document.querySelector(".col-left ul"))),document.title="Games",document.body.classList.add("games","carousel-list-page")}}window.gamesController=new GamesController;class HomeController{index(){Promise.all([router.load("/home.html"),util.require("https://platform.twitter.com/widgets.js")]).then(()=>twttr.widgets.load()),document.title="Jon Wiedmann",util.addMeta("description","Jon Wiedmann's personal website.  This site is set up to showcase some of my technical ability.  This site has information regarding my work experience and hobbies."),util.addMeta("keywords","Jon Wiedmann, Web Developer, PHP, HTML5, CSS, Javascript"),document.body.classList.add("home")}}window.homeController=new HomeController;class PlaygroundController{openNav(){let e=document.querySelector(".hdr-nav2 .playground-nav-wrap");e.classList.contains("visible")||e.classList.add("visible")}index(){this.openNav(),router.load("/playground/index.html"),document.title="Playground",util.addMeta("description","An playground area for web tech demos."),util.addMeta("keywords","canvas, html5"),document.body.classList.add("playground","playInner")}ballPit(){this.openNav(),Promise.all([router.load("/playground/ball-pit.html"),util.require("/assets/ballPit.js")]).then(()=>{window.ballPit=new BallPit}),document.title="Ball Pit | Playground",util.addMeta("description","A canvas example showcasing a ball pit."),util.addMeta("keywords","canvas, html5"),document.body.classList.add("playground","playInner","nav3")}starryBackground(){this.openNav(),Promise.all([router.load("/playground/stars.html"),util.require("/assets/stars.js")]).then(()=>{window.starryBg=new StarryBg}),document.title="Starry Background | Playground",util.addMeta("description","A canvas example showcasing a starry background."),util.addMeta("keywords","canvas, html5"),document.body.classList.add("playground","playInner","nav2")}breakdancingCube(){this.openNav(),router.load("/playground/breakdancing-cube.html"),document.title="Breakdancing Cube | Playground",util.addMeta("description","Pure CSS3 animation demo."),util.addMeta("keywords","CSS3, HTML5"),document.body.classList.add("playground","playInner","nav1")}}window.playgroundController=new PlaygroundController;class PortfolioController{index(){Promise.all([router.load("/portfolio/index.html"),util.require("/assets/listCarousel.js")]).then(()=>new ListCarousel(document.querySelector(".col-left ul"))),document.title="Portfolio",document.body.classList.add("portfolio","carousel-list-page")}}window.portfolioController=new PortfolioController;class Router{constructor(){this.main=document.querySelector("main"),onhashchange=(e=>this.route(location.hash))}route(e){switch(this.resetController(e),e){case"#about":aboutController.index();break;case"#games":gamesController.index();break;case"#portfolio":portfolioController.index();break;case"#playground":playgroundController.index();break;case"#playground/ball-pit":playgroundController.ballPit();break;case"#playground/breakdancing-cube":playgroundController.breakdancingCube();break;case"#playground/starry-background":playgroundController.starryBackground();break;case"#home":default:homeController.index()}}load(e){return fetch(e).then(e=>{if(e.ok)return e.text().then(e=>{this.main.innerHTML=e})})}run(){this.route(location.hash)}rmMeta(e){const t=document.head.querySelector(e);t&&document.head.removeChild(t)}resetController(e){scrollTo(0,0),this.main.innerHTML="",document.body.className="",document.title="",this.rmMeta("meta[name=description]"),this.rmMeta("meta[name=keywords]"),dispatchEvent(new CustomEvent("route",{detail:e}))}}(()=>{function e(){document.querySelector("aside").classList.remove("active"),t=!1,document.body.removeEventListener("click",e,!!pListen&&{passive:!0})}window.pListen=!1;try{const e=Object.defineProperty({},"passive",{get:()=>{pListen=!0}});addEventListener("test",null,e)}catch(e){}window.router=new Router,router.run();let t=!1;window.onresize=(()=>{window.innerWidth>800&&e()}),document.querySelector(".menu").addEventListener("click",o=>{o.preventDefault(),t?e():(document.querySelector("aside").classList.add("active"),t=!0,requestAnimationFrame(()=>{document.body.addEventListener("click",e,!!pListen&&{passive:!0})}))}),addEventListener("route",e=>{const t=window.location.hash;if(void 0===t||0!==t.startsWith("#playground")){let e=document.querySelector(".hdr-nav2 .playground-nav-wrap");e.classList.contains("visible")&&e.classList.remove("visible")}},!!pListen&&{passive:!0})})();