"use strict";function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Util=function(){function t(){_classCallCheck(this,t),this.jsSrcHash={"https://platform.twitter.com/widgets.js":!1,"/assets/listCarousel.js":!1,"/assets/stars.js":!1,"/assets/ballPit.js":!1}}return t.prototype.require=function(t,e){var n=this;return new Promise(function(e,o){if(n.jsSrcHash[t])e();else{var a=document.createElement("script");a.src=t,a.async=1;var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(a,r),a.onload=function(){n.jsSrcHash[t]=!0,e()},a.onerror=function(){o()}}})},t.prototype.getYear=function(){return(new Date).getFullYear()},t.prototype.addMeta=function(t,e){var n=document.createElement("meta");n.setAttribute("name",t),n.setAttribute("content",e),document.head.appendChild(n)},t.prototype.getMainWidth=function(){var t=document.querySelector("main"),e=window.getComputedStyle(t,null),n=parseFloat(e.getPropertyValue("padding-left"));return t.getBoundingClientRect().width-n},t}();window.util=new Util;var AboutController=function(){function t(){_classCallCheck(this,t)}return t.prototype.index=function(){router.load("/about.html").then(function(){document.getElementById("dateYear").textContent=util.getYear()}),document.title="About",document.body.classList.add("about")},t}();window.aboutController=new AboutController;var GamesController=function(){function t(){_classCallCheck(this,t)}return t.prototype.index=function(){var t=router.load("/games/index.html"),e=util.require("/assets/listCarousel.js");Promise.all([t,e]).then(function(){new ListCarousel(document.querySelector(".col-left ul"))}),document.title="Games",document.body.classList.add("games","carousel-list-page")},t}();window.gamesController=new GamesController;var HomeController=function(){function t(){_classCallCheck(this,t)}return t.prototype.index=function(){var t=router.load("/home.html"),e=util.require("https://platform.twitter.com/widgets.js");Promise.all([t,e]).then(function(){twttr.widgets.load()}),document.title="Jon Wiedmann",util.addMeta("description","Jon Wiedmann's personal website.  This site is set up to showcase some of my technical ability.  This site has information regarding my work experience and hobbies."),util.addMeta("keywords","Jon Wiedmann, Web Developer, PHP, HTML5, CSS, Javascript"),document.body.classList.add("home")},t}();window.homeController=new HomeController;var PlaygroundController=function(){function t(){_classCallCheck(this,t)}return t.prototype.openNav=function(){var t=document.querySelector(".hdr-nav2 .playground-nav-wrap");t.classList.contains("visible")||t.classList.add("visible")},t.prototype.index=function(){this.openNav(),router.load("/playground/index.html"),document.title="Playground",util.addMeta("description","An playground area for web tech demos."),util.addMeta("keywords","canvas, html5"),document.body.classList.add("playground","playInner")},t.prototype.ballPit=function(){this.openNav();var t=router.load("/playground/ballPit.html"),e=util.require("/assets/ballPit.js");Promise.all([t,e]).then(function(){window.ballPit=new BallPit}),document.title="Ball Pit | Playground",util.addMeta("description","A canvas example showcasing a ball pit."),util.addMeta("keywords","canvas, html5"),document.body.classList.add("playground","playInner","nav3")},t.prototype.starryBackground=function(){this.openNav();var t=router.load("/playground/stars.html"),e=util.require("/assets/stars.js");Promise.all([t,e]).then(function(){window.starryBg=new StarryBg}),document.title="Starry Background | Playground",util.addMeta("description","A canvas example showcasing a starry background."),util.addMeta("keywords","canvas, html5"),document.body.classList.add("playground","playInner","nav2")},t.prototype.breakdancingCube=function(){this.openNav(),router.load("/playground/breakdancing-cube.html"),document.title="Breakdancing Cube | Playground",util.addMeta("description","Pure CSS3 animation demo."),util.addMeta("keywords","CSS3, HTML5"),document.body.classList.add("playground","playInner","break-dancing-cube","nav1")},t}();window.playgroundController=new PlaygroundController;var PortfolioController=function(){function t(){_classCallCheck(this,t)}return t.prototype.index=function(){var t=router.load("/portfolio/index.html"),e=util.require("/assets/listCarousel.js");Promise.all([t,e]).then(function(){new ListCarousel(document.querySelector(".col-left ul"))}),document.title="Portfolio",document.body.classList.add("portfolio","carousel-list-page")},t}();window.portfolioController=new PortfolioController;var Router=function(){function t(){var e=this;_classCallCheck(this,t),this.root=document.querySelector("main"),onhashchange=function(t){return e.route(location.hash)}}return t.prototype.route=function(t){switch(this.resetController(t),t){case"#about":aboutController.index();break;case"#games":gamesController.index();break;case"#portfolio":portfolioController.index();break;case"#playground":playgroundController.index();break;case"#playground/ballPit":playgroundController.ballPit();break;case"#playground/breakdancing-cube":playgroundController.breakdancingCube();break;case"#playground/starry-background":playgroundController.starryBackground();break;case"#home":default:homeController.index()}},t.prototype.load=function(t,e){var n=this;return new Promise(function(e,o){var a=n,r=new XMLHttpRequest;r.onreadystatechange=function(){4===this.readyState&&(200===this.status?(a.root.innerHTML=this.responseText,e()):o())},r.open("GET",t,!0),r.send()})},t.prototype.run=function(){this.route(location.hash)},t.prototype.rmMeta=function(t){var e=document.head.querySelector(t);e&&document.head.removeChild(e)},t.prototype.resetController=function(t){scrollTo(0,0),this.root.innerHTML="",document.body.className="",document.title="",this.rmMeta("meta[name=description]"),this.rmMeta("meta[name=keywords]"),dispatchEvent(new CustomEvent("route",{detail:t}))},t}(),Main=function t(){function e(){document.querySelector("aside").classList.remove("active"),o=!1,document.body.removeEventListener("click",e,!!pListen&&{passive:!0})}_classCallCheck(this,t),window.pListen=!1;try{var n=Object.defineProperty({},"passive",{get:function(){pListen=!0}});addEventListener("test",null,n)}catch(t){}window.router=new Router,router.run();var o=!1;document.querySelector(".menu").addEventListener("click",function(t){t.preventDefault(),o?e():(document.querySelector("aside").classList.add("active"),o=!0,setTimeout(function(){document.body.addEventListener("click",e,!!pListen&&{passive:!0})},0))}),addEventListener("route",function(t){var e=window.location.hash;if("undefined"==typeof e||0!==e.indexOf("#playground")){var n=document.querySelector(".hdr-nav2 .playground-nav-wrap");n.classList.contains("visible")&&n.classList.remove("visible")}},!!pListen&&{passive:!0})};document.addEventListener("DOMContentLoaded",new Main);