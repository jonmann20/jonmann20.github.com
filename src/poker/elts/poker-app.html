<link rel="import" href="/bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/iron-icons/iron-icons.html">
<link rel="import" href="poker-header.html">
<link rel="import" href="poker-leftbar.html">
<link rel="import" href="poker-main.html">

<style>
	/*
	 * Global app styles
	 */

	.title {
		color: #c62828;
	}

	.icon-link {
		color: #3f51b5;
	}

	.link {
		color: #c62828;
		text-decoration: underline;
	}

	.link:hover,
	.link:focus {
		color: #d32f2f !important;
	}

	.link:visited {
		color: #424242;
	}
</style>

<dom-module id="poker-app">
	<template>
		<style>
			poker-leftbar,
			poker-main {
				height: calc(100vh - 56px);
				padding: 15px;
			}
		</style>
		<poker-header></poker-header>
		<div class="row">
			<poker-leftbar class="col-0 col-sm-5"></poker-leftbar>
			<poker-main class="col-12 col-sm-7"></poker-main>
		</div>
	</template>
	<script>
		Polymer({
			is: 'poker-app',

			ready: function() {
				// Mediate between elements
				let header = document.querySelector('poker-header');
				let leftbar = document.querySelector('poker-leftbar');

				header.addEventListener('menu', e => {
					// TODO: animate grid https://jsfiddle.net/MadLittleMods/EM4xL/

					let isOpen = leftbar.getAttribute('open');
					if(isOpen) {
						leftbar.removeAttribute('open');
					}
					else {
						leftbar.setAttribute('open', true);
					}
				});
			}
		})
	</script>
</dom-module>