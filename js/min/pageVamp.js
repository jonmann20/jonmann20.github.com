function GameEngine(){function a(){view.update()}function b(){requestAnimationFrame(b),view.render()}var c=document.createElement("a");c.href="/#games",c.innerText="Back",c.className="btnBack",document.body.appendChild(c);var d=document.createElement("div");return d.className="canvasWrap",canvas=document.createElement("canvas"),canvas.setAttribute("width",1008),canvas.setAttribute("height",567),d.appendChild(canvas),document.body.appendChild(d),ctx=canvas.getContext("2d"),input=new GameInput,view=new GameView,{start:function(){setInterval(a,1e3/60),requestAnimationFrame(b)}}}function GameSave(){}function GameSaveView(a,b){this.returnView=a,this.callback=b,this.init()}function GameInput(){function a(a){return a===KeyCode.W?a=KeyCode.UP:a===KeyCode.S&&(a=KeyCode.DOWN),a}keysDown={},lastKeyUp=KeyCode.EMPTY,addEventListener("keydown",function(b){keysDown[a(b.keyCode)]=!0},!0),addEventListener("keyup",function(b){lastKeyUp=a(b.keyCode),delete keysDown[lastKeyUp]},!1)}function GameGraphics(){return{}}function GameView(){}function TitleView(a){this.callback=a}function LevelView(){}!function(a,b,c,d,e,f,g){a.GoogleAnalyticsObject=e,a[e]=a[e]||function(){(a[e].q=a[e].q||[]).push(arguments)},a[e].l=1*new Date,f=b.createElement(c),g=b.getElementsByTagName(c)[0],f.async=1,f.src=d,g.parentNode.insertBefore(f,g)}(window,document,"script","//www.google-analytics.com/analytics.js","ga"),ga("create","UA-43015655-1","jonmann20.github.io"),ga("send","pageview"),GameSave.prototype=function(){return{load:function(a){return localStorage["slot"+a]},getList:function(){var a=this.load(0),b=this.load(1),c=this.load(2),d="---";return list=["undefined"!=typeof a?a:d,"undefined"!=typeof b?b:d,"undefined"!=typeof c?c:d]},save:function(a,b){localStorage["slot"+a]=b},erase:function(a){return localStorage.removeItem("slot"+a),this.getList()}}}(),GameSaveView.prototype=function(){var a,b="Select a save slot",c=new GameSave,d=c.getList();return{init:function(){a={img:">>",slot:0,x:canvas.width/2-ctx.measureText(d[0]).width/2-60,y:200}},update:function(){if(lastKeyUp===KeyCode.ENTER){lastKeyUp=KeyCode.EMPTY;var b=new Date,e=b.getMonth(),f=b.getDay(),g=b.getYear(),h=b.toLocaleTimeString();c.save(a.slot,e+"/"+f+"/"+g+" "+h),this.callback()}else lastKeyUp===KeyCode.DELETE?(lastKeyUp=KeyCode.EMPTY,d=c.erase(a.slot)):2!==a.slot&&lastKeyUp===KeyCode.DOWN?(lastKeyUp=KeyCode.EMPTY,++a.slot,a.x=canvas.width/2-ctx.measureText(d[a.slot]).width/2-60,a.y+=80):0!==a.slot&&lastKeyUp===KeyCode.UP&&(lastKeyUp=KeyCode.EMPTY,--a.slot,a.x=canvas.width/2-ctx.measureText(d[a.slot]).width/2-60,a.y-=80)},render:function(){ctx.fillStyle="#111",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.font="36px Arial",ctx.fillStyle="#fff",ctx.fillText(b,canvas.width/2-ctx.measureText(b).width/2,80),ctx.font="24px Arial";for(var c=0;c<d.length;++c)ctx.fillText(d[c],canvas.width/2-ctx.measureText(d[c]).width/2,200+80*c);ctx.fillText(a.img,a.x,a.y)}}}();var KeyCode=Object.freeze({EMPTY:-1,ENTER:13,CTRL:17,ESC:27,SPACEBAR:32,UP:38,DOWN:40,DELETE:46,A:65,D:68,F:70,H:72,J:74,K:75,M:77,O:79,R:82,S:83,W:87}),KeyCodeNames={};KeyCodeNames[-1]="EMPTY",KeyCodeNames[13]="ENTER",KeyCodeNames[17]="CTRL",KeyCodeNames[27]="ESC",KeyCodeNames[32]="SPACEBAR",KeyCodeNames[38]="UP",KeyCodeNames[40]="DOWN",KeyCodeNames[46]="DELETE",KeyCodeNames[65]="A",KeyCodeNames[68]="D",KeyCodeNames[70]="F",KeyCodeNames[72]="H",KeyCodeNames[74]="J",KeyCodeNames[75]="K",KeyCodeNames[77]="M",KeyCodeNames[79]="O",KeyCodeNames[82]="R",KeyCodeNames[83]="S",KeyCodeNames[87]="W",GameView.prototype=function(){return{update:function(){},render:function(){ctx.fillStyle="#ccc",ctx.fillRect(0,0,canvas.width,canvas.height)}}}(),TitleView.prototype=function(){var a="Vamp: The Great and Powerful",b="Press Enter";return{update:function(){lastKeyUp===KeyCode.ENTER&&(lastKeyUp=KeyCode.EMPTY,view=new GameSaveView(this,this.callback))},render:function(){ctx.fillStyle="#000",ctx.fillRect(0,0,canvas.width,canvas.height),ctx.font="36px Arial",ctx.fillStyle="#fff",ctx.fillText(a,canvas.width/2-ctx.measureText(a).width/2,100),ctx.font="24px Arial",ctx.fillText(b,canvas.width/2-ctx.measureText(b).width/2,canvas.height/2)}}}(),LevelView.prototype=function(){return{update:function(){},render:function(){ctx.fillStyle="brown",ctx.fillRect(0,0,canvas.width,canvas.height)}}}(),function(){var a=new GameEngine;a.start(),view=new TitleView(function(){view=new LevelView})}();